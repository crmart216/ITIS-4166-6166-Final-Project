openapi: 3.0.3
info:
  title: Recipe API
  version: 1.0.0
  description: API for managing recipes and their reviews.

servers:
  - url: https://itis-4166-6166-final-project-oh8g.onrender.com/
    description: Cloud deployment
  - url: http://localhost:3000
    description: Local development

tags:
  - name: Recipes
    description: Operations related to recipes

paths:
  #RECIPE ROUTES
  /recipes:
    get:
      tags: [Recipes]
      summary: Get all recipes
      operationId: getAllRecipes
      security:
        - cookieAuth: []
      responses:
        "200":
          description: List of recipes
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Recipe"

    post:
      tags: [Recipes]
      summary: Create a new recipe
      operationId: createRecipe
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RecipeCreate"
            examples:
              valid:
                summary: Valid recipe
                value:
                  title: "Bread"
                  description: "Simple homemade bread"
                  ingredients: "Flour, Water, Yeast, Milk, Salt, Sugar"
                  steps: "Mix ingredients, knead, proof, bake"
                  notes: "I don't know how to make bread"
      responses:
        "201":
          description: Recipe created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Recipe"
        "400":
          description: Validation error (missing required fields)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseWithExample"
              example:
                error: "All fields are required"
                example:
                  title: "Bread"
                  description: "Bread"
                  ingredients: "Flour, Water, Yeaste, Milk, Salt, Sugar"
                  steps: "Lol bread"
                  notes: "I don't know how to make bread"
        "401":
          description: Unauthorized (missing or invalid token)
        "404":
          description: A recipe with this name already exists
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserErrorResponse"
              example:
                error: "A recipe with this name already exists"
  
  /recipes/{id}:
    get:
      tags: [Recipes]
      summary: Get a recipe by ID
      operationId: getRecipeById
      security:
        - cookieAuth: []
      parameters:
        - name: id
          in: path
          description: ID of the recipe
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Recipe found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Recipe"
        "400":
          description: Invalid ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeErrorResponse"
              examples:
                missingId:
                  summary: Missing ID
                  value:
                    error: "Id is required"
                invalidId:
                  summary: Non-integer ID
                  value:
                    error: "Id must be an integer"
        "404":
          description: Recipe not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeErrorResponse"
              example:
                error: "Recipe not found"

    put:
      tags: [Recipes]
      summary: Update an existing recipe
      operationId: updateRecipe
      security:
        - cookieAuth: []
      parameters:
        - name: id
          in: path
          description: ID of the recipe to update
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RecipeUpdate"
      responses:
        "201":
          description: Recipe updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Recipe"
        "400":
          description: Validation error (no fields provided or invalid ID)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeErrorResponse"
              examples:
                noFields:
                  summary: No fields provided
                  value:
                    error: "At least one field is required"
                missingId:
                  summary: Missing ID
                  value:
                    error: "id is required"
                invalidId:
                  summary: Non-integer ID
                  value:
                    error: "id must be an integer"
        "401":
          description: Unauthorized (missing or invalid token)
        "404":
          description: Recipe not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeErrorResponse"
              example:
                error: "Recipe not found"

    delete:
      tags: [Recipes]
      summary: Delete a recipe
      operationId: deleteRecipe
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          description: ID of the recipe to delete
          required: true
          schema:
            type: integer
      responses:
        "204":
          description: Recipe deleted successfully (no content)
        "400":
          description: Invalid ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeErrorResponse"
              examples:
                missingId:
                  summary: Missing ID
                  value:
                    error: "id is required"
                invalidId:
                  summary: Non-integer ID
                  value:
                    error: "id must be an integer"
        "401":
          description: Unauthorized (missing or invalid token)
        "404":
          description: Recipe not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeErrorResponse"
              example:
                error: "Recipe not found"

  /recipes/{id}/reviews:
    get:
      tags: [Recipes]
      summary: Get reviews for a recipe
      operationId: getRecipeReview
      security:
        - cookieAuth: []
      parameters:
        - name: id
          in: path
          description: ID of the recipe
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Reviews for the recipe
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RecipeReview"
        "400":
          description: Invalid ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeErrorResponse"
              examples:
                missingId:
                  summary: Missing ID
                  value:
                    error: "Id is required"
                invalidId:
                  summary: Non-integer ID
                  value:
                    error: "Id must be an integer"
        "404":
          description: No reviews to display
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeErrorResponse"
              example:
                error: "No reviews to display"
  #USER ROUTES
  /users:
    get:
      summary: Get all users
      description: Returns a list of all users. Admin only.
      tags:
        - Users
      security:
        - cookieAuth: []
      responses:
        "200":
          description: List of users
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/User"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PermissionErrorResponse"

  /users/me:
    get:
      summary: Get current user
      description: Returns the currently authenticated user based on the JWT cookie.
      tags:
        - Users
      security:
        - cookieAuth: []
      responses:
        "200":
          description: Current user
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserErrorResponse"
    put:
      summary: Update current user
      description: Update the authenticated user's email and/or password.
      tags:
        - Users
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateMeRequest"
      responses:
        "200":
          description: Updated user
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "400":
          description: No fields provided or validation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvalidIDErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserErrorResponse"
        "409":
          description: Email already in use
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmailInUseErrorResponse"
    delete:
      summary: Delete current user
      description: Delete the authenticated user's account.
      tags:
        - Users
      security:
        - cookieAuth: []
      responses:
        "204":
          description: User deleted successfully
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserErrorResponse"
  
  /users/{id}/recipes:
    get:
      summary: Get recipes for a user
      description: Returns a list of recipes authored by the specified user.
      tags:
        - Users
        - Recipes
      security:
        - cookieAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the user
          schema:
            type: integer
      responses:
        "200":
          description: List of recipes
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RecipeSummary"
        "400":
          description: Invalid ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvalidIDErrorResponse"
              examples:
                missingId:
                  summary: Missing ID
                  value:
                    error: "id is required"
                invalidId:
                  summary: Non-integer ID
                  value:
                    error: "id must be an integer"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserErrorResponse"

  /users/{id}/role:
    patch:
      summary: Update another user's role
      description: Update the role of another user. Admin only.
      tags:
        - Users
      security:
        - cookieAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the user to update
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateOtherUserRoleRequest"
      responses:
        "200":
          description: Updated user
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "400":
          description: Invalid ID or body
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvalidIDErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PermissionErrorResponse"
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserNotFoundErrorResponse"

  /users/{id}:
    delete:
      summary: Delete another user
      description: Delete a user by ID. Admin only.
      tags:
        - Users
      security:
        - cookieAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the user to delete
          schema:
            type: integer
      responses:
        "204":
          description: User deleted successfully
        "400":
          description: Invalid ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvalidIDErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PermissionErrorResponse"
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserNotFoundErrorResponse"

  /users/login:
    post:
      summary: Login
      description: Authenticate a user with email and password. Returns user info and sets a JWT cookie.
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserLoginRequest"
      responses:
        "200":
          description: Successful login
          headers:
            Set-Cookie:
              description: HTTP-only JWT cookie
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserLoginResponse"
        "401":
          description: Invalid credentials
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserAuthErrorResponse"

  /users/signup:
    post:
      summary: Sign up
      description: Register a new user and set a JWT cookie.
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserSignUpRequest"
      responses:
        "200":
          description: New user created
          headers:
            Set-Cookie:
              description: HTTP-only JWT cookie
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserSignUpResponse"
        "400":
          description: Email and Passsword is Required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmailPasswordErrorResponse"
        "409":
          description: Email already in use
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmailInUseErrorResponse"

  /users/logout:
    post:
      summary: Logout
      description: Clear the JWT cookie to log out the user.
      tags:
        - Auth
      responses:
        "200":
          description: Logged out successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Logged out successfully

  # REVIEWS
  /reviews:
    get:
      summary: Get all reviews
      description: |
        Returns a list of all reviews.
        Requires authentication via JWT cookie.
      tags:
        - Reviews
      security:
        - cookieAuth: []
      responses:
        "200":
          description: List of reviews
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Review"
        "401":
          description: Unauthorized (no or invalid token)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserErrorResponse"
    
    post:
      summary: Create a review
      description: |
        Create a new review for a recipe.
        The authenticated user is used as the review author.
      tags:
        - Reviews
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ReviewCreateRequest"
      responses:
        "201":
          description: Review created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Review"
        "400":
          description: Validation error (e.g. missing content or recipe_id)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvalidReviewErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserErrorResponse"
        "404":
          description: Recipe not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeErrorResponse"
              example:
                error: "Recipe not found"

  /reviews/{id}:
    get:
      summary: Get review by ID
      description: Get a single review by its ID.
      tags:
        - Reviews
      security:
        - cookieAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the review
          schema:
            type: integer
      responses:
        "200":
          description: Review found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Review"
        "400":
          description: Invalid ID parameter (must be positive integer)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvalidIDErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserErrorResponse"
        "404":
          description: Review not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ReviewErrorResponse"

    put:
      summary: Update a review
      description: |
        Update the content of a review.
        Only the review owner or an admin can perform this action.
      tags:
        - Reviews
      security:
        - cookieAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the review to update
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ReviewUpdateRequest"
      responses:
        "200":
          description: Updated review
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Review"
        "400":
          description: Invalid ID or body
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvalidIDErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserAuthErrorResponse"
        "403":
          description: Forbidden (not owner and not admin)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PermissionErrorResponse"
        "404":
          description: Review not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ReviewErrorResponse"

    delete:
      summary: Delete a review
      description: |
        Delete a review by its ID.
        Only the review owner or an admin can perform this action.
      tags:
        - Reviews
      security:
        - cookieAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the review to delete
          schema:
            type: integer
      responses:
        "204":
          description: Review deleted successfully
        "400":
          description: Invalid ID parameter
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvalidIDErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserAuthErrorResponse"
        "403":
          description: Forbidden (not owner and not admin)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PermissionErrorResponse"
        "404":
          description: Review not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ReviewErrorResponse"
#CATEGORIES

  /recipeCategories:
    get:
      summary: Get all recipe categories
      description: Returns a list of all recipe categories. Public endpoint.
      tags:
        - RecipeCategories
      security: 
        - CookieAuth: []
      responses:
        "200":
          description: List of recipe categories
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RecipeCategory" 
        "401":
          description: Unauthorized (no or invalid token)
          content: 
            application/json:
              schema:
                $ref: "#/components/schemas/UserErrorResponse"

    post:
      summary: Create a recipe category
      description: |
        Create a new recipe category. Requires authentication.
      tags:
        - RecipeCategories
      security:
        - cookieAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RecipeCategoryCreateRequest"
      responses:
        "201":
          description: Recipe category created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeCategory"
        "400":
          description: Validation error (e.g. missing name)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvalidReviewErrorResponse"
        "401":
          description: Unauthorized (no or invalid token)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserErrorResponse"

  /recipeCategories/{id}:
    get:
      summary: Get recipe category by ID
      description: |
        Get a single recipe category by its ID.
        Requires authentication.
      tags:
        - RecipeCategories
      security:
        - cookieAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the category
          schema:
            type: integer
      responses:
        "200":
          description: Category found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeCategory"
        "400":
          description: Invalid ID parameter (must be positive integer)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvalidIDErrorResponse"
        "401":
          description: Unauthorized (no or invalid token)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserAuthErrorResponse"
        "404":
          description: Category not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoryNotFoundErrorResponse"

    put:
      summary: Update a recipe category
      description: |
        Update the name of a recipe category.
        Only ADMIN users can perform this action.
      tags:
        - RecipeCategories
      security:
        - cookieAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the category to update
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RecipeCategoryUpdateRequest"
      responses:
        "200":
          description: Updated recipe category
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecipeCategory"
        "400":
          description: Invalid ID or body
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvalidIDErrorResponse"
        "401":
          description: Unauthorized (no or invalid token)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserAuthErrorResponse"
        "403":
          description: Forbidden (user is not ADMIN)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PermissionErrorResponse"
        "404":
          description: Category not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoryNotFoundErrorResponse"

    delete:
      summary: Delete a recipe category
      description: |
        Delete a recipe category by its ID.
        Only ADMIN users can perform this action.
      tags:
        - RecipeCategories
      security:
        - cookieAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the category to delete
          schema:
            type: integer
      responses:
        "204":
          description: Category deleted successfully
        "400":
          description: Invalid ID parameter
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvalidIDErrorResponse"
        "401":
          description: Unauthorized (no or invalid token)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserAuthErrorResponse"
        "403":
          description: Forbidden (user is not ADMIN)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PermissionErrorResponse"
        "404":
          description: Category not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoryNotFoundErrorResponse"
components:
  securitySchemes:
    cookieAuth:
      type: apiKey
      in: cookie
      name: jwt

  schemas:
    Recipe:
      type: object
      properties:
        id:
          type: integer
          example: 1
        title:
          type: string
          example: "Bread"
        description:
          type: string
          nullable: true
          example: "Simple homemade bread"
        ingredients:
          type: string
          example: "Flour, Water, Yeast, Milk, Salt, Sugar"
        steps:
          type: string
          example: "Mix ingredients, knead, proof, bake"
        notes:
          type: string
          nullable: true
          example: "Best served warm"
      required:
        - id
        - title
        - ingredients
        - steps

    RecipeCreate:
      type: object
      properties:
        title:
          type: string
        description:
          type: string
        ingredients:
          type: string
        steps:
          type: string
        notes:
          type: string
      required:
        - title
        - ingredients
        - steps

    RecipeUpdate:
      type: object
      description: At least one field is required.
      properties:
        title:
          type: string
        description:
          type: string
        ingredients:
          type: string
        steps:
          type: string
        notes:
          type: string

    RecipeReview:
      type: object
      description: Review object as returned by the database.
      additionalProperties: true

    User:
      type: object
      properties:
        id:
          type: integer
          example: 1
        email:
          type: string
          format: email
          example: user@example.com
        role:
          type: string
          example: USER
      required:
        - id
        - email
        - role

    UserLoginRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          example: user@example.com
        password:
          type: string
          format: password
          example: password123
      required:
        - email
        - password

    UserLoginResponse:
      type: object
      properties:
        id:
          type: integer
          example: 1
        email:
          type: string
          format: email
          example: user@example.com
        role:
          type: string
          example: USER
      required:
        - id
        - email
        - role

    UserSignUpRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          example: newuser@example.com
        password:
          type: string
          format: password
          example: password123
      required:
        - email
        - password

    UserSignUpResponse:
      type: object
      properties:
        message:
          type: string
          example: New User Created
        id:
          type: integer
          example: 2
        email:
          type: string
          format: email
          example: newuser@example.com
        role:
          type: string
          example: USER
      required:
        - message
        - id
        - email
        - role

    UpdateMeRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          example: updated@example.com
        password:
          type: string
          format: password
          example: newPassword123

    UpdateOtherUserRoleRequest:
      type: object
      properties:
        role:
          type: string
          example: ADMIN
      required:
        - role

    RecipeSummary:
      type: object
      properties:
        id:
          type: integer
          example: 10
        title:
          type: string
          example: Classic Lasagna
      required:
        - id
        - title

    Review:
      type: object
      properties:
        id:
          type: integer
          example: 1
        content:
          type: string
          example: "This recipe was amazing, will make again!"
        author_id:
          type: integer
          example: 3
        recipe_id:
          type: integer
          example: 10
      required:
        - id
        - content
        - author_id
        - recipe_id

    ReviewCreateRequest:
      type: object
      properties:
        content:
          type: string
          example: "Loved this recipe, very easy to follow."
        recipe_id:
          type: integer
          example: 10
      required:
        - content
        - recipe_id

    ReviewUpdateRequest:
      type: object
      properties:
        content:
          type: string
          example: "Updated review: tried it again and still great."

    RecipeCategory:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: "Dessert"
      required:
        - id
        - name

    RecipeCategoryCreateRequest:
      type: object
      properties:
        name:
          type: string
          example: "Dessert"
      required:
        - name

    RecipeCategoryUpdateRequest:
      type: object
      properties:
        name:
          type: string
          example: "Updated Category Name"

    EmailPasswordErrorResponse:
      type: object
      properties:
        message:
          type: string 
          example: "Email and Password are required"

    ReviewErrorResponse:
      type: object
      properties:
        message:
          type: string
          example: "Cannot find review with id 1"

    RecipeErrorResponse:
      type: object
      properties:
        error:
          type: string
      required:
        - error

    UserErrorResponse:
      type: object
      properties:
        message:
          type: string
          example: Invalid Token

    UserAuthErrorResponse:
      type: object
      properties:
        message:
          type: string
          example: Invalid credentials
    
    InvalidReviewErrorResponse:
      type: object
      properties:
        message:
          type: string
          example: [Review Content is required, recipe ID is required]


    UserNotFoundErrorResponse:
      type: object
      properties:
        message:
          type: string
          example: User not found

    PermissionErrorResponse:
      type: object
      properties:
        message:
          type: string
          example: "Forbidden: insufficient permission"

    EmailInUseErrorResponse:
      type: object
      properties:
        message:
          type: string
          example: "Email already in use"

    InvalidIDErrorResponse:
      type: object
      properties:
        message:
          type: string
          example: "Invalid ID"

    ErrorResponseWithExample:
      allOf:
        - $ref: "#/components/schemas/RecipeErrorResponse"
        - type: object
          properties:
            example:
              type: object
              description: Example payload showing correct request format.

    CategoryNotFoundErrorResponse:
      type: object
      properties:
        error:
          type: string
          example: "Category not found"